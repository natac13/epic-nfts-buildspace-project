(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{771:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var a=n(266),r=n(6311),i=n(809),s=n.n(i),o=n(4065),u=n(1508),p=n(2658),l=n(6634),c=n(5329),d=n(9062),y=n(7957),m=n(7294),f=n(387),h=n(5755),v=JSON.parse('{"Mt":[{"inputs":[{"internalType":"uint256","name":"supply","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"approved","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"NewEpicNFTMinted","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalNFTsMined","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"makeAnEpicNFT","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"pickRandomColor","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"pickRandomFirstWord","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"pickRandomSecondWord","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"pickRandomThirdWord","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),T=n(5893),b=("https://twitter.com/".concat("_buildspace"),"0x75d580a45E4ed33f7c034e2284659680e6019Ef5"),x=function(e,t){return"https://testnets.opensea.io/assets/".concat(e,"/").concat(t)};function w(){var e=m.useState(""),t=(0,r.Z)(e,2),n=t[0],i=t[1],w=m.useState(!1),g=(0,r.Z)(w,2),k=g[0],M=g[1],Z=m.useState(0),j=(0,r.Z)(Z,2),N=j[0],F=j[1],I=m.useState(""),_=(0,r.Z)(I,2),C=_[0],E=_[1],A=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,!(n=t.ethereum)){e.next=8;break}return e.next=4,n.request({method:"eth_chainId"});case 4:a=e.sent,console.log("Connected to chain "+a),"0x4","0x4"!==a&&alert("You are not connected to the Rinkeby Test Network!");case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t=window,(n=t.ethereum)?(a=new h.Q(n),r=a.getSigner(),new f.CH(b,v.Mt,r).on("NewEpicNFTMinted",(function(e,t){console.log(e,t.toNumber()),E(x(b,t)),F((function(e){return 1+(null===t||void 0===t?void 0:t.toNumber())}))})),console.log("Setup event listener!")):console.log("Ethereum object doesn't exist!")}catch(i){console.log(i)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=7;break}return console.log("Make sure you have metamask!"),e.abrupt("return");case 7:console.log("We have the ethereum object",n);case 8:return e.next=10,n.request({method:"eth_accounts"});case 10:0!==(a=e.sent).length?(r=a[0],console.log("Found an authorized account:",r),i(r),S()):console.log("No authorized account found"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=5;break}return alert("Get MetaMask!"),e.abrupt("return");case 5:return console.log("heelo"),e.next=8,n.request({method:"eth_requestAccounts"});case 8:a=e.sent,console.log("Connected",a[0]),i(a[0]),S(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum,console.log("??"),!n){e.next=19;break}return a=new h.Q(n),r=a.getSigner(),i=new f.CH(b,v.Mt,r),console.log("Going to pop wallet now to pay gas..."),e.next=10,i.makeAnEpicNFT();case 10:return o=e.sent,M(!0),console.log("Mining...please wait."),e.next=15,o.wait();case 15:M(!1),console.log("Mined, see transaction: https://rinkeby.etherscan.io/tx/".concat(o.hash)),e.next=20;break;case 19:console.log("Ethereum object doesn't exist!");case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)(s().mark((function e(){var t,n,a,r,i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=window,n=t.ethereum){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,a=new h.Q(n),r=a.getSigner(),i=new f.CH(b,v.Mt,r),e.next=9,i.getTotalNFTsMined();case 9:o=e.sent,F(null===o||void 0===o?void 0:o.toNumber()),E(x(b,(null===o||void 0===o?void 0:o.toNumber())-1)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.log({error:e.t0});case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return m.useEffect((function(){var e,t;null===(e=A())||void 0===e||null===(t=e.then(W))||void 0===t||t.then(q)}),[]),(0,T.jsxs)(o.Z,{maxWidth:"md",children:[(0,T.jsxs)(u.Z,{component:"header",sx:{display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column",my:2},children:[(0,T.jsx)(p.Z,{variant:"h1",align:"center",fontWeight:"700",children:"Epic NFTs"}),(0,T.jsxs)(p.Z,{variant:"h5",align:"center",fontWeight:"700",children:["Total Mined: ",N]}),C&&(0,T.jsxs)(p.Z,{variant:"h5",align:"center",fontWeight:"700",children:["Last Minted NFT: ",(0,T.jsx)(l.Z,{href:C,children:"Here"})]}),n&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(p.Z,{variant:"h6",children:"Account"}),(0,T.jsx)(p.Z,{variant:"subtitle1",children:n})]})]}),(0,T.jsxs)(u.Z,{sx:{my:3,display:"flex",width:"100%",justifyContent:"center",flexFlow:"column",gap:2},children:[(0,T.jsx)(c.Z,{in:!!n,children:(0,T.jsxs)(u.Z,{display:"flex",flexDirection:"column",gap:3,children:[(0,T.jsx)(y.Z,{variant:"contained",color:"primary",onClick:q,children:"Get Mined NFT Count"}),(0,T.jsx)(y.Z,{variant:"contained",color:"secondary",onClick:O,children:"Mint NFT"})]})}),(0,T.jsx)(c.Z,{in:!n,children:(0,T.jsx)(y.Z,{color:"primary",variant:"outlined",onClick:R,disabled:k,children:"Connect Wallet"})})]}),k&&(0,T.jsxs)(u.Z,{sx:{display:"flex",flexFlow:"column",width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,T.jsx)(p.Z,{variant:"subtitle1",align:"center",children:"Pending Transaction"}),(0,T.jsx)(d.Z,{color:"secondary",size:50})]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(771)}])},6601:function(){}},function(e){e.O(0,[539,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);