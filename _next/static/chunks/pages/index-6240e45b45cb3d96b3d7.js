(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8912:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});n(3789);var a=n(266),r=n(318),s=n(809),i=n.n(s),u=n(4065),o=n(1508),c=n(2658),l=n(9062),p=n(7294),d=n(9838),f=n(387),m=n(5755),y=JSON.parse('{"Mt":[{"inputs":[],"stateMutability":"payable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"uint256","name":"timestamp","type":"uint256"},{"indexed":false,"internalType":"string","name":"message","type":"string"}],"name":"NewWave","type":"event"},{"inputs":[],"name":"getAllWaves","outputs":[{"components":[{"internalType":"address","name":"waver","type":"address"},{"internalType":"string","name":"message","type":"string"},{"internalType":"uint256","name":"timestamp","type":"uint256"}],"internalType":"struct WavePortal.Wave[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getTotalWaves","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"lastWavedAt","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"_message","type":"string"}],"name":"wave","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),h=n(5893),v=n(4155),x=y.Mt,g="0x50049107E263e5890A061C304f25216bA2624fB0";function w(){var e=p.useState(""),t=(0,r.Z)(e,2),n=t[0],s=t[1],y=p.useState(!1),w=(0,r.Z)(y,2),b=w[0],T=(w[1],p.useState(0)),Z=(0,r.Z)(T,2),k=(Z[0],Z[1]),j=p.useState([]),_=(0,r.Z)(j,2),C=(_[0],_[1],p.useState("")),N=(0,r.Z)(C,2),W=(N[0],N[1],p.useState("")),E=(0,r.Z)(W,2),M=(E[0],E[1],function(){var e=(0,a.Z)(i().mark((function e(){var t,n,a,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=7;break}return console.log("Make sure you have metamask!"),e.abrupt("return");case 7:console.log("We have the ethereum object",n);case 8:return e.next=10,n.request({method:"eth_accounts"});case 10:0!==(a=e.sent).length?(r=a[0],console.log("Found an authorized account:",r),s(r)):console.log("No authorized account found"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()),S=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum){e.next=5;break}return alert("Get MetaMask!"),e.abrupt("return");case 5:return e.next=7,n.request({method:"eth_requestAccounts"});case 7:a=e.sent,console.log("Connected",a[0]),s(a[0]),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=(0,a.Z)(i().mark((function e(){var t,n,a,r,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=window,n=t.ethereum,console.log(v.env.CONTRACT_ADDRESS),!n){e.next=13;break}return a=new m.Q(n),r=a.getSigner(),s=new f.CH(g,x,r),e.next=9,s.getTotalWaves();case 9:u=e.sent,k(null===u||void 0===u?void 0:u.toNumber()),e.next=14;break;case 13:console.log("Ethereum object doesn't exist!");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return p.useEffect((function(){M(),A()}),[]),(0,h.jsxs)(u.Z,{maxWidth:"md",children:[(0,h.jsxs)(o.Z,{component:"header",sx:{display:"flex",justifyContent:"center",alignItems:"center",flexFlow:"column",my:2},children:[(0,h.jsx)(c.Z,{variant:"h1",align:"center",fontWeight:"700",children:"Epic NFTs"}),n&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(c.Z,{variant:"h6",children:"Account"}),(0,h.jsx)(c.Z,{variant:"subtitle1",children:n})]})]}),(0,h.jsx)(o.Z,{sx:{my:3,display:"flex",width:"100%",justifyContent:"center",flexFlow:"column",gap:2},children:!n&&(0,h.jsx)(d.Z,{color:"primary",variant:"outlined",onClick:S,disabled:b,children:"Connect Wallet"})}),b&&(0,h.jsxs)(o.Z,{sx:{display:"flex",flexFlow:"column",width:"100%",alignItems:"center",justifyContent:"center"},children:[(0,h.jsx)(c.Z,{variant:"subtitle1",align:"center",children:"Pending Transaction"}),(0,h.jsx)(l.Z,{color:"secondary",size:50})]})]})}},5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8912)}])},6601:function(){}},function(e){e.O(0,[573,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);